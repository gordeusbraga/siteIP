<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Computar Ponto</title>
    <link rel="stylesheet" href="../styles/computarPonto.css">
   <link rel="shortcut icon" href="../images/favicon.ico" type="image/x-icon">
    <script src="../script.js"></script>
</head>
<body>
    <div id="headers">
        <header>
            <img id="men" src="../images/menu.png" alt="menu">
            <span class="textoId">
                <p>Computar </p>
                <p style="margin-left: 20px;">Ponto</p>
            </span>
        
                <span id="perfil2"><img class="perfil" src="../images/testPe.jpg" alt="FotoPerfil" width="40px" ></span>
        
        </header>
    </div>
    <main>
        <div id="clock"></div>
        <select name="options" id="opcao">
            <option value="selecione">Selecione</option>
            <option value="Entrada">Entrada</option>
            <option value="Inicio do Intervalo">Inicio Intervalo</option>
            <option value="Final do Intervalo">Final Intervalo</option>
            <option value="Saída">Saída</option>
        </select>
        <button onclick="salvarHorario()"> Computar Ponto</button>
        <button> Escanear QR CODE</button>
       
    </main>
    <footer>
        <p>IP-Control</p>
    </footer>
    
    <script>
  function displayTime() {
    const date = new Date();
    const time = date.toLocaleTimeString('pt-BR');
    document.getElementById('clock').innerText = time;
    
    }

    function salvarHorario() {
   if(document.getElementById('opcao').value == "selecione"){
            alert("Selecione uma opção");
        }else{
            const date = new Date();
    const time = date.toLocaleTimeString('pt-BR');
    localStorage.setItem('horario', time);
    window.location.href = "../index/pontoComputado.html";
    opctions();
        }
    }
    function opctions(){
        if(document.getElementById('opcao').value == "selecione"){
            alert("Selecione uma opção");
        }else{const opcao = document.getElementById('opcao').value;
        localStorage.setItem('opcao', opcao);
        console.log(opcao);}
        
    }

// Atualiza a cada segundo
setInterval(displayTime, 1000);

// Exibe o horário imediatamente ao carregar a página
displayTime();

  
    </script>
</body>

</html>